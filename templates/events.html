{% extends "index.html" %}

{% block content %}
<main class="events-main">
    <div class="events-header">
        <h1 class="events-title">Our Events</h1>
        <p class="events-subtitle">From flagship hackathons to daily coding challenges, explore how we foster
            innovation.</p>
    </div>

    {% set data = load_data(path="data/events.toml") %}

    <div class="events-grid-wrapper">
        {% for event in data.events %}
        <div class="event-card">
            <div class="event-image-slider">
                <div class="event-tag">{{ event.tag }}</div>
                <div class="slider-track">
                    {% for image in event.images %}
                    <img src="{{ image }}" alt="{{ event.title }} slide {{ loop.index }}" class="slider-img">
                    {% endfor %}
                    <!-- Duplicate first image for seamless loop expectation if using keyframes, 
                         but for simple crossfade or scroll, the CSS logic handles it. 
                         We'll stick to a pure CSS crossfade/slide approach. -->
                </div>
            </div>

            <div class="event-content">
                <h2 class="event-name">
                    {% if event.link %}
                    <a href="{{ event.link }}" target="_blank" rel="noopener noreferrer">{{ event.title }}</a>
                    {% else %}
                    {{ event.title }}
                    {% endif %}
                </h2>
                <p class="event-description">{{ event.description }}</p>

                <div class="event-footer">
                    {% if event.link %}
                    <a href="{{ event.link }}" target="_blank" rel="noopener noreferrer" class="event-btn">
                        Visit Website
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                            <polyline points="15 3 21 3 21 9"></polyline>
                            <line x1="10" y1="14" x2="21" y2="3"></line>
                        </svg>
                    </a>
                    {% else %}
                    <span class="event-internal-label">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        Internal / On-Campus
                    </span>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</main>
{% endblock content %}